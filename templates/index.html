<!Doctype html>
<html lang="ko">

<head>
   <!-- Required meta tags -->
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
   <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
       crossorigin="anonymous">

      <!-- JS -->
   <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
       crossorigin="anonymous"></script>

       <!--jQuery 플러그인으로 쿠키함수 사용-->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>


   <!-- 구글폰트 -->
   <link href="https://fonts.googleapis.com/css?family=Stylish&display=swap" rel="stylesheet">

   <!--tail wind CSS-->
   <link href="static/css/output.css" rel="stylesheet">

   <!--map api-->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=wmfmnnnlmf"></script>
   <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=wmfmnnnlmf&submodules=panorama"></script>


   <title>크래프톤 정글 4기 | 정글 맛포럼</title>

   <!-- style -->
   <style type="text/css">

@import url(//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css);
        .rate {
            display: inline-block;
            border: 0;
            font-size: 1.5rem; /* Increase the font size */
        }

        .rate > input {
            display: none;
        }

        .rate > label {
            float: left; /* Align stars from left to right */
            color: #ddd;
            cursor: pointer;
        }

        .rate > label:before {
            font-family: FontAwesome;
            content: "\f005 ";
            margin-right: 5px; /* Add some space between stars */
        }

        .rate .half:before {
            content: "\f089 ";
            position: absolute;
            top: 0;
            left: 50%; /* Position the half-star on the right side of the star */
        }

        .rate input:checked ~ label,
        .rate label:hover, .rate label:hover ~ label { color: #f73c32 !important; }

        .rate input:checked + .rate label:hover,
        .rate input:checked ~ label:hover,
        .rate input:checked ~ .rate label:hover ~ label,
        .rate label:hover ~ input:checked ~ label { color: #f73c32 !important; }

        /* 전체 레이아웃 스타일링 */

         body {
             font-family: Arial, sans-serif;
             margin: 0;
             padding: 0;
             background-color: #f8f8f8;
         }

        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            margin: 10px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        .layout-container {
            display: flex;
            margin: 10px;
        }

        .left-container, .right {
            padding: 10px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .left-container {
            width: 65%;
            margin-right: 10px;
        }

        .right {
            width: 35%;
        }

        #map, #pano {
            width: 100%;
            border-radius: 4px;
        }

        #map {
            height: 500px;
        }

        #pano {
            height: 200px;
            margin-top: 10px;
        }

        #restaurants-list, #menu-section, #review-section, #reviews-container {
            margin-top: 20px;
        }


        h3, h4 {
            color: #333;
            margin-bottom: 10px;
        }



        ul {
            list-style-type: none; /* Remove bullet points */
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        ul li {
            margin-bottom: 5px;
            padding: 15px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            width: 100%;
            /*flex-basis: calc(50% - 10px);*/
            text-align: left;
        }

        .restaurant-info {
            margin: 5px 0;
        }

        .restaurant-info span {
            display: block;
            color: #555;
        }

        .restaurant-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .restaurant-category, .restaurant-rating {
            font-size: 0.9em;
        }

        .restaurant-rating {
            color: #f73c32;
        }

        /* Adjustments for smaller screens */
        @media (max-width: 768px) {
            ul li {
                flex-basis: 100%;
            }
        }



          .rate {
            margin-bottom: 10px;
        }

        .rate input[type="radio"] + label {
            color: #ccc;
            float: none;
            display: inline-block;
        }

        .find-btn button {
            width: calc(25% - 8px);
            display: inline-block;
        }

        /* Additional custom styles */
    
  </style>
</head>
<body>
   <div id="button-container">
      <button id="street">거리뷰</button>
  </div>
  <div class="layout-container">
      <div class="left-container">
          <div id="map" class="left"></div>
          <div id="pano"></div>
      </div>
      <div id="" class="right">
          <div class="find-btn">
              <button type="button" onclick="loadRestaurantsByCategory('한식')">한식</button>
              <button type="button" onclick="loadRestaurantsByCategory('일식')">일식</button>
              <button type="button" onclick="loadRestaurantsByCategory('중식')">중식</button>
              <ul></ul>
              <button type="button" onclick="loadRestaurantsByCategory('분식')">분식</button>
              <button type="button" onclick="loadRestaurantsByCategory('양식')">양식</button>
              <button type="button" onclick="loadRestaurantsByCategory('아시안')">아시안</button>
          </div>
          <ul id="restaurant-list-ul">
  
              <li>
                  <div class="restaurant-info">
                      <span class="restaurant-name">Restaurant Name</span>
                      <span class="restaurant-category">Category: 한식</span>
                      <span class="restaurant-rating">Rating: 4.5</span>
                  </div>
  
              </li>
  
          </ul>
  
          <div id="menu-section" style="display:none;">
              <h4>메뉴 목록</h4>
              <ul id="menu-list-ul">
                  <!-- 여기에 메뉴 목록이 동적으로 추가됩니다 -->
              </ul>
          </div>
          <div id="review-section" style="display:none;">
              <h4>리뷰 작성</h4>
              <fieldset class="rate">
                  <input type="radio" id="rating10" name="rating" value="5"><label for="rating10" title="5점"></label>
                  <input type="radio" id="rating9" name="rating" value="4.5"><label class="half" for="rating9" title="4.5점"></label>
                  <input type="radio" id="rating8" name="rating" value="4"><label for="rating8" title="4점"></label>
                  <input type="radio" id="rating7" name="rating" value="3.5"><label class="half" for="rating7" title="3.5점"></label>
                  <input type="radio" id="rating6" name="rating" value="3"><label for="rating6" title="3점"></label>
                  <input type="radio" id="rating5" name="rating" value="2.5"><label class="half" for="rating5" title="2.5점"></label>
                  <input type="radio" id="rating4" name="rating" value="2"><label for="rating4" title="2점"></label>
                  <input type="radio" id="rating3" name="rating" value="1.5"><label class="half" for="rating3" title="1.5점"></label>
                  <input type="radio" id="rating2" name="rating" value="1"><label for="rating2" title="1점"></label>
                  <input type="radio" id="rating1" name="rating" value="0.5"><label class="half" for="rating1" title="0.5점"></label>
              </fieldset>
  
              <input type="text" id="review-content" placeholder="리뷰 내용"/>
              <button type="button" onclick="review_write(currentSelectedRestaurant)">리뷰 추가</button>
          </div>
  
          <div id="reviews-container" style="display:none;">
              <h4>리뷰 목록</h4>
              <ul id="reviews-list">
                  <!-- 여기에 리뷰가 추가됩니다 -->
              </ul>
          </div>
  
  
      </div>
  </div>
  </div>
  
  
 </body>
<script>
 var map = new naver.maps.Map('map', {
        center: new naver.maps.LatLng(37.3005585, 127.0347399),
        zoom: 17
    });

    var pano = null;
    naver.maps.onJSContentLoaded = function () {
        // 아이디 혹은 지도 좌표로 파노라마를 표시할 수 있습니다.
        pano = new naver.maps.Panorama("pano", {
            position: new naver.maps.LatLng(37.3005585, 127.0347399),
            pov: {
                pan: -133,
                tilt: 0,
                fov: 100
            }
        });
        // 파노라마 위치가 갱신되었을 때 발생하는 이벤트를 받아 지도의 중심 위치를 갱신합니다.
        naver.maps.Event.addListener(pano, 'pano_changed', function () {
            var latlng = pano.getPosition();
            if (!latlng.equals(map.getCenter())) {
                map.setCenter(latlng);
            }
        });
    };
    // 거리뷰 레이어를 생성합니다.
    var streetLayer = new naver.maps.StreetLayer();
    naver.maps.Event.once(map, 'init', function () {
        streetLayer.setMap(map);
    });

    // 거리뷰 버튼에 이벤트를 바인딩합니다.
    var btn = $('#street');
    var markers = [];
    var latlngs = [];

    btn.on("click", function (e) {
        e.preventDefault();

        // 거리뷰 레이어가 지도 위에 있으면 거리뷰 레이어를 지도에서 제거하고,
        // 거리뷰 레이어가 지도 위에 없으면 거리뷰 레이어를 지도에 추가합니다.
        if (streetLayer.getMap()) {
            streetLayer.setMap(null);
            // 마커 생성
            console.log(latlngs);
            showMarkers();
        } else {
            streetLayer.setMap(map);
            // 마커 숨기기
            hideMarkers();
        }
    });

    naver.maps.Event.addListener(map, 'streetLayer_changed', function (streetLayer) {
        if (streetLayer) {
            btn.addClass('control-on');
            // 마우스 오버 이벤트 활성화
            showMarkersOnHover();
        } else {
            btn.removeClass('control-on');
            // 마커 숨기기
            hideMarkers();
        }
    });

    naver.maps.Event.addListener(map, 'click', function (e) {
        if (streetLayer.getMap()) {
            var latlng = e.coord;
            pano.setPosition(latlng);
        }
    });

    function createMarker(position, name) {
        console.log(name);
        var marker = new naver.maps.Marker({
            position: position,
            map: map
        });

        var infoWindow = new naver.maps.InfoWindow({
            content: '<div style="width:150px;text-align:center;padding:10px;">Marker at (' + position.lat() + ', ' + position.lng() + ')</div>',
            disableAutoPan: true
        });

        naver.maps.Event.addListener(marker, 'mouseover', function () {
            infoWindow.open(map, marker);
        });

        naver.maps.Event.addListener(marker, 'mouseout', function () {
            infoWindow.close();
        });

        naver.maps.Event.addListener(marker, 'click', function () {
            console.log("상세페이지 이동");
            checkSelectRestaurant(name)
        });

        markers.push({marker: marker, infoWindow: infoWindow});

        return marker;
    }

    function showMarkers() {
        for (var i = 0, ii = latlngs.length; i < ii; i += 2) {
            var marker = createMarker(latlngs[i], latlngs[i + 1]);
        }
    }

    function hideMarkers() {
        for (var i = 0, ii = markers.length; i < ii; i++) {
            markers[i].marker.setMap(null);
        }
    }

    function showMarkersOnHover() {
        for (var i = 0, ii = markers.length; i < ii; i++) {
            var markerData = markers[i];
            if (markerData && markerData.marker) {
                var marker = markerData.marker;
                naver.maps.Event.addListener(marker, 'mouseover', function () {
                    markerData.infoWindow.open(map, marker);
                });

                naver.maps.Event.addListener(marker, 'mouseout', function () {
                    markerData.infoWindow.close();
                });
            }
        }
    }

    /////////////////////////////////////////////////////////////////////////////////////
    var currentCategory = null;
    $(document).ready(function () {
        loadRestaurants();
    });



    function loadRestaurantsByCategory(category) {
        if (currentSelectedRestaurant || currentCategory !== category) {
            document.getElementById('review-section').style.display = 'none';
            document.getElementById('reviews-container').style.display = 'none';
            document.getElementById('menu-section').style.display = 'none';
            currentSelectedRestaurant = null;
        }

        if (currentCategory === category) {
            // 같은 카테고리가 다시 선택되면 전체 목록을 로드
            loadRestaurants();
            currentCategory = null; // 현재 선택된 카테고리 초기화
        } else {
            // 다른 카테고리가 선택되면 해당 카테고리의 목록을 로드
            $.ajax({
                type: "GET",
                url: "/api/list",
                success: function (response) {
                    let restaurants = response['restaurant'];
                    $('#restaurant-list-ul').empty(); // 기존 목록을 지우고 새 목록을 표시

                    latlngs.length = 0;
                    hideMarkers();
                    for (let i = 0; i < restaurants.length; i++) {
                        let restaurant = restaurants[i];
                        if (restaurant['category'] === category) {
                            let name = restaurant['name'];
                            let location = restaurant['location'];
                            let category = restaurant['category'];
                            let rating=restaurant['rating']
                            latlngs.push(new naver.maps.LatLng(restaurant['Y'], restaurant['X']), name);

                            console.log(latlngs.length);

                            let listItemHtml = `
            <li onclick="checkSelectRestaurant('${name}')" style="cursor: pointer;">
                <div style="font-weight: bold; font-size: 1.5em; margin-bottom: 5px;">${name}</div>
                <div style="color: #555;">위치: ${location}</div>
                <div style="color: #555; font-size: 0.9em;">카테고리: ${category}</div>
                <div style="color: #f73c32; font-size: 0.9em;">별점: ${rating}</div>
            </li>`;
                            $('#restaurant-list-ul').append(listItemHtml);
                        }
                    }
                    if (streetLayer.getMap() == null) {
                        showMarkers();
                    }
                    currentCategory = category; // 현재 선택된 카테고리 업데이트
                },
                error: function (error) {
                    console.error("레스토랑 목록을 불러오는데 실패했습니다: ", error);
                }
            });
        }
    }

    function loadRestaurants() {
        $.ajax({
            type: "GET",
            url: "/api/list",
            success: function (response) {
                let restaurants = response['restaurant'];
                $('#restaurant-list-ul').empty(); // 기존 목록을 지우고 새 목록을 표시

                latlngs.length = 0;
                hideMarkers();
                for (let i = 0; i < restaurants.length; i++) {
                    let restaurant = restaurants[i];
                    let name = restaurant['name'];
                    let location = restaurant['location'];
                    let category = restaurant['category'];
                    let rating=restaurant['rating']
                    latlngs.push(new naver.maps.LatLng(restaurant['Y'], restaurant['X']), name);
                    let listItemHtml = `
                    <li onclick="checkSelectRestaurant('${name}')" style="cursor: pointer;">
                        <div style="font-weight: bold; margin-bottom: 5px;">${name}</div>
                        <div style="color: #555;">위치: ${location}</div>
                        <div style="color: #555; font-size: 0.9em;">카테고리: ${category}</div>
                        <div style="color: #f73c32; font-size: 0.9em;">별점: ${rating}</div>
                    </li>`;

                    $('#restaurant-list-ul').append(listItemHtml);
                }
                if (streetLayer.getMap() == null) {
                    showMarkers();
                }
            },
            error: function (error) {
                console.error("레스토랑 목록을 불러오는데 실패했습니다: ", error);
            }
        });
    }




    // 메뉴 데이터를 저장하는 전역 변수
    var menuData = {};

    function loadmenu() {
        $.ajax({
            type: "GET",
            url: "/menu/list",
            success: function (response) {
                let menus = response['menus_list'];
                menus.forEach(function(menu) {
                    if (!menuData[menu['name']]) {
                        menuData[menu['name']] = [];
                    }
                    // 메뉴 이름과 가격을 객체로 저장합니다.
                    menuData[menu['name']].push({
                        menu: menu['menu'],
                        price: menu['price']
                    });
                });
            },
            error: function (error) {
                console.error("메뉴 목록을 불러오는데 실패했습니다: ", error);
            }
        });
    }
    // 현재 선택된 레스토랑을 추적하는 전역 변수


    var currentSelectedRestaurant = null;

    function checkSelectRestaurant(restaurantName) {
        // 현재 선택된 레스토랑과 동일한 레스토랑을 클릭했는지 확인합니다.
        var isSameRestaurantClicked = (currentSelectedRestaurant === restaurantName);

        if (!isSameRestaurantClicked) {
            // 다른 레스토랑을 클릭한 경우, 리뷰 목록을 새로 불러옵니다.
            loadAndDisplayReviews();
        }

        if (isSameRestaurantClicked) {
            // 동일한 레스토랑을 다시 클릭한 경우, 모든 섹션을 숨기고 전체 목록을 로드합니다.
            document.getElementById('menu-section').style.display = 'none';
            document.getElementById('review-section').style.display = 'none';
            document.getElementById('reviews-container').style.display = 'none';
            currentSelectedRestaurant = null;
            $('#restaurant-list-ul').empty();
            loadRestaurants();
        } else {
            // 다른 레스토랑을 클릭한 경우, 해당 레스토랑만 목록에 남기고 섹션들을 표시합니다.
            $('#restaurant-list-ul').empty();
            $('#restaurant-list-ul').append(`
            <li onclick="checkSelectRestaurant('${restaurantName}')">
                <div style="font-weight: bold; font-size: 1.5em; margin-bottom: 5px;">${restaurantName}</div>
            </li>`);updateMenuForRestaurant(restaurantName);
            document.getElementById('menu-section').style.display = 'block';
            document.getElementById('review-section').style.display = 'block';
            document.getElementById('reviews-container').style.display = 'block';
            currentSelectedRestaurant = restaurantName;
        }
    }



    function updateMenuForRestaurant(restaurantName) {
        var selectedMenu = menuData[restaurantName];

        // 메뉴 정보가 있는 경우, HTML 요소를 업데이트합니다.
        if (selectedMenu) {
            var menuListHtml = '';
            selectedMenu.forEach(function(menuItem) {
                menuListHtml += '<li>' + menuItem.menu + ' - 가격: ' + menuItem.price + '</li>';
            });
            document.getElementById('menu-list-ul').innerHTML = menuListHtml;
        }
    }

    // 페이지 로드 시 메뉴 데이터를 불러옵니다.
    $(document).ready(function () {
        loadmenu();
        loadRestaurants();
    });

    const ratingFieldset = document.querySelector('.rate');
    // let selectedRating = null;
    ratingFieldset.addEventListener('change', function(event) {
        let selectedRating = event.target.value;
        console.log('Selected Rating:', selectedRating);
        // 나중에 selectedRating 없을 시 별점 체크 해달라 추가
    });



    async function selectRestaurant(name) {
        try {
            const selectedRestaurant = await findRestaurant(name);
            console.log(selectedRestaurant);
        } catch (error) {
            console.error(error);
        }
    }

    function findRestaurant(name) {
        return new Promise((resolve, reject) => {
            $.ajax({
                type: "GET",
                url: "/api/list",
                success: function (response) {
                    let restaurants = response['restaurant'];
                    let select = null;

                    for (let i = 0; i < restaurants.length; i++) {
                        if (restaurants[i]['name'] == name) {
                            select = restaurants[i];
                            break;
                        }
                    }

                    if (select !== null) {
                        resolve(select);
                    } else {
                        reject("레스토랑이 없습니다");
                    }
                },
                error: function (error) {
                    reject("레스토랑 목록 에러입니다.: " + error);
                }
            });
        });
    }
    function loadAndDisplayReviews() {
        $.ajax({
            type: "GET",
            url: "/api/comment/list",
            success: function (response) {
                if (response['result'] == 'success') {
                    let reviews = response['comment'];
                    let reviewsListHtml = '';

                    // 현재 선택된 레스토랑에 대한 리뷰만 필터링합니다.
                    reviews = reviews.filter(review => review.name === currentSelectedRestaurant);


                    for (let i = 0; i < reviews.length; i++) {
                        let review = reviews[i];
                        reviewsListHtml += `<li>${review['name']}: ${review['comment']} (${review['rating']}점)</li>`;
                    }
                    document.getElementById('reviews-list').innerHTML = reviewsListHtml;
                } else {
                    console.error('리뷰 목록을 불러오는데 실패했습니다.');
                }
            },
            error: function (error) {
                console.error('리뷰 목록을 불러오는데 실패했습니다: ', error);
            }
        });
    }

    function logout() {
   $.ajax({
             type: "GET",
                url: "/logout",
                success: function (response) {
                  console.log("success");
                },
                error: function (error) {
                    console.error("레스토랑 목록을 불러오는데 실패했습니다: ", error);
                }
            });}


   function getJwtToken() {
      const cookies = document.cookie.split(';');
    for (const cookie of cookies) {
        const [name, value] = cookie.trim().split('=');
        if (name === 'token') {
            return value;
        }
    }
    return null;
   }

   document.addEventListener("DOMContentLoaded", function(){
    const token = getJwtToken();

    const reviewContenteInput = document.getElementById('review-content');
    reviewContenteInput.placeholder = token ? '리뷰 내용' : '로그인이 필요합니다';
   });
            
 document.getElementById('review-content').addEventListener('click', checktoken);

    function checktoken(click){
     const token = getJwtToken(); 
     if(token === null){
        alert("로그인이 필요합니다!");
        window.location.href = 'login';
     }
     else{
        console.log("토큰 확인완료");
     }

    }

   async function review_write(name) {


      var comment = document.getElementById('review-content').value;
      const ratingRadios = document.querySelectorAll('.rate input[type="radio"]');
      // rating, review_num, nam

      if (Array.from(ratingRadios).some(radio => radio.checked) && comment) {

         const token = getJwtToken(); 


         const restaurantName = await findRestaurant(name);
         console.log(restaurantName.name);

         // 선택된 rating 값을 찾습니다.
         const selectedRating = Array.from(ratingRadios).find(radio => radio.checked).value;

         if (token) {

            fetch('/api/comment', {
               method: 'POST',
               headers: {
                  'Content-Type': 'application/json',
                  'Authorization': `Bearer ${token}`  // JWT 토큰을 'Authorization' 헤더에 추가
               },
               body: JSON.stringify({
                  rating: restaurantName.rating,
                  review_num: restaurantName.review_num,
                  name: restaurantName.name,
                  comment: comment, // Include the comment in the data
                  selectedRating : selectedRating
               })
            })
            .then(response => response.json())
            .then(data => {
               console.log(data);  // 서버로부터 받은 응답을 처리
            })
            .catch(error => console.error('Error:', error));
            } else {
            console.log('JWT 토큰이 없습니다.');
            }
         // $.ajax({
         //    type: "POST",
         //    url: "/api/comment",
         //    data: JSON.stringify({
         //          rating: restaurantName.rating,
         //          review_num: restaurantName.review_num,
         //          name: restaurantName.name,
         //          comment: comment, // Include the comment in the data
         //          selectedRating : selectedRating
         //    }),
         //    contentType: "application/json",
         //    success: function (response) {
         //          if (response['result'] == 'success') {
         //             alert('데이터 전송 완료!');
         //             loadAndDisplayReviews();  // 리뷰 목록 갱신
         //          } else {
         //             alert('데이터 전송 실패ㅠㅠ');
         //          }
         //    }
         // });

         document.getElementById('review-content').value = '';
         ratingRadios.forEach(radio => {
            radio.checked = false;
         });
      } else {
         // 경고 문구 추가
         console.log("별과 코멘트를 함께 입력해 주세요");
      }
      }        

   // // JWT 토큰을 가져오는 함수
   // function getJwtToken() {
   //    // 쿠키에서 JWT 토큰을 읽어옴
   //    const cookieValue = $.cookie('token');

   //    // 쿠키에서 토큰 부분만 추출
   //    if (cookieValue) {
   //       return cookieValue;
   //    }

   //    // 쿠키에 토큰이 없는 경우 null 반환
   //    return null;
   // }

//    document.getElementById('review-insert').addEventListener('click', function() {
    
      

//    // JWT 토큰을 어떻게 가져오는지에 따라 수정이 필요할 수 있습니다.
//     const token = getJwtToken();  // JWT 토큰을 가져오는 함수 (예: 쿠키, 로컬 스토리지 등에서 가져올 수 있음)

//     // JWT 토큰이 존재하면 요청을 보냄
//     if (token) {

//         fetch('/api/comment', {
//             method: 'POST',
//             headers: {
//                 'Content-Type': 'application/json',
//                 'Authorization': `Bearer ${token}`  // JWT 토큰을 'Authorization' 헤더에 추가
//             },
//             body: JSON.stringify({
//                 // 요청에 필요한 데이터를 여기에 추가

//             })
//         })
//         .then(response => response.json())
//         .then(data => {
//             console.log(data);  // 서버로부터 받은 응답을 처리
//         })
//         .catch(error => console.error('Error:', error));
//     } else {
//         console.log('JWT 토큰이 없습니다.');
//     }
// });

   </script>
</html>

